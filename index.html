<body style="font-family: system-ui, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif; margin: 40px; background-color: #f4f4f4;">
  <h1 style="text-align: center; color: #333;">Govee Dashboard</h1>
  <div id="sensors" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px;"></div>

  <script>
    const NUM_SENSORS = 6;

    async function fetchData() {
      try {
        const response = await fetch("https://goveedatarequest.netlify.app/.netlify/functions/govee-data");
        const data = await response.json();

        const container = document.getElementById("sensors");
        container.innerHTML = "";

        for (let i = 1; i <= NUM_SENSORS; i++) {
          const sensor = data[`SENSOR_${i}`];
          if (!sensor) continue;

          const sensorDiv = document.createElement("div");
          sensorDiv.style.width = "150px";
          sensorDiv.style.height = "150px";
          sensorDiv.style.padding = "10px";
          sensorDiv.style.border = "4px solid white";
          sensorDiv.style.borderRadius = "10px";
          sensorDiv.style.boxShadow = "0 0 10px rgba(0, 0, 0, 0.1)";
          sensorDiv.style.backgroundColor = "#e0e0e0";
          sensorDiv.style.textAlign = "center";
          sensorDiv.style.color = "#333";
          sensorDiv.style.fontWeight = "bold";

          sensorDiv.innerHTML = `
            <h3>Sensor ${i}</h3>
            <p>Temperature: ${sensor.temperature ?? "--"} Â°F</p>
            <p>Humidity: ${sensor.humidity ?? "--"} %</p>
          `;

          container.appendChild(sensorDiv);
        }
      } catch (err) {
        console.error("Error fetching sensor data:", err);
      }
    }

    fetchData();
    setInterval(fetchData, 60000); // refresh every 60 seconds
  </script>
</body>
